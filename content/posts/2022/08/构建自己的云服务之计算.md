---
title: "构建自己的云服务之计算服务"
date: 2022-08-14T19:50:08+08:00
draft: false

---

#### 牛客网秋季活动第五天

上面我们将异地的网络相互联通了，并且ping值江苏省内ipv6 18ms，ipv4 33ms，（南通小镇到苏州昆山）。

今天我们简单介绍下构建自己的计算服务。

最经典的云计算服务当然是Openstack啦，然后Openstack本身并不适合中小型企业，更不适合家用了，而且各个支持厂商为了给自己家的服务增加更多的新特性，就会添加很多适配自己硬件的特性，导致代码开源的不能开箱即用，需要做二次开发。我们这里不考虑。

小一些的适配企业的一站式云计算包括页面的OpenNebula，CloudStack，Zstack。其中OpenNebula和CloudStack的配置都有些复杂，从节点和中间情况上看最好多台机器配上光纤等方式跑，尝试后暂不考虑。Zstack是本土开发商，本身还是配置比较简单的，可扩展性也比较强，可以通过一台主控机开出万台裸机构成集群的。有兴趣的同学可以尝试一下，单机不收费。

此外，家用的常见的就比较多了，小企业也有使用的，包括基于Centos的oVirt，基于Debian的Proxmox，基于vmware基础镜像的ESXI，基于slackware的unraid。windows server的hyper-v等等。

还有单一界面的方式solusVM，以及Virtualizor，包括国内的换皮厂商nokvm，主打onman的vps服务等等。

家庭其实比较适合unraid，hyper-v，proxmox和ovirt。我个人自己用的unraid，proxmox和hyper-v。

unraid主要使用的是docker，虚拟机的配置比较简单，大多数是自己配置xml。

proxmox的相关功能比较丰富，也是可以在上面面添加相关的功能，但是系统有些时候兼容性不够高，已经遇到过不同时间段的重启，需要硬件进行配合。只要自己的机子不是过老，低于x5650，或者amd的ryzenCPU，其他的还是比较稳定的，出现什么故障排查也方便。

esxi和hyper-v在涉及底层的一些功能时候，配置和调试不太容易。

esxi需要额外打上驱动，建议自己就不要打了，选择别人已经打好的驱动镜像包，最佳。

hyper-v等配置存储的时候，需要额外配置一个虚拟机作为网络路由，然后单独配置一台虚拟机作为混合阵列存储，再暴露NFS或者使用iscsi。

proxmox支持三台到多台配置集群，并且支持实时复制，支持远程备份，功能比较丰富，ESXI相比就删减了很多功能，也支持ceph一类的分布式块存储设备。

