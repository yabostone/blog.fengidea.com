---
title: "不适用netmaker创建wg"
date: 2022-06-16T11:59:43+08:00
draft: false

---

-----

==

不使用netmaker创建

1. 配置复杂，需要调用vps的443端口和80端口。可能还要域名。
2. 如果默认域名，非常快的就被屏蔽了，不知道自定义域名的被墙的速度。
3. 只为分发网络配置的话，还是不太好的。
4. 国内网络环境复杂，大多数有防火墙，udp打洞一般不会成功，因为防火墙阻止转发。
5. 如果可以操作网络设备，控制防火墙的话，那么可以转为手动定义端口。不是随机udp端口，类似zerotier的。
6. wg可以通过维护一个所有wg的公钥和allowedip的方式配置，作为固定端口内容，如果是两边nat，那就偏向端口转发。
7. netmaker还要维护ipv6节点问题，比较复杂

！！！！ 最重要的是，域名和ip会被sni阻断，或者什么的。国内又要域名和ip备案。



#### udp打洞

非常复杂，而且不智能，还是需要手动调整endpoint。

