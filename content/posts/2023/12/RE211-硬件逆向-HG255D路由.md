---
title: "RE211 硬件逆向 HG255D路由"
date: 2023-12-16T20:46:05+08:00
draft: true
---

### 前言
从13年早期接触到了淘宝，并且购买了HG255D的路由，再到一个过去的十年，硬件的设计又开始经历了一个轮回，而软件方面也是从自己熟悉的内容中经历了一个轮回，感慨颇多。


当自己考虑如何进行更加高效教他人如何快速了解一个行业或者作为最简开发系统的时候，发现早期的学习资料和版本居然有很高的参考作用。当然，这也和客户的需求和要求有关，以及现在科技的发展态势。例如：星链居然是使用OFDM的方式进行数据传输，例如SpaceX居然用了苏联N1火箭的多个小型发动机的思想，利用算力来进行失败发动机的动力计算补偿。


软件方面，那变化更加的大了，其实很多功能的用途可以非常的简单，甚至只需要少量的代码有可以完成。但是为了适配各种需求，各种设备，最后变成了一个庞大的软件。。以及因为某些原因，例如难以修复的漏洞、开始没有人了解整个流程架构的时候。

### 固件
#### 固件类型
可以刷的固件是很多的，但是主要都是以openwrt的修改版为主：包括ddwrt，pandorabox，dreambox等。

#### 固件的基础
openwrt是一个基于Linux的开发版本，在消费电子中的家用路由和企业路由中有着广泛的应用。其在网络的防火墙，路由功能和能够迭代入硬件开发链中这些优点成为了最广泛的路由开发操作系统。

既然是基于Linux的，那么Linux启动的流程可以良好的复用到这里。Uboot的启动流程见[链接](https://zhuanlan.zhihu.com/p/633773454),uboot是初始化最小系统用的，能启动CPU，RAM和文件系统的最小环境，能启动板子的各个IO接口，启动时钟等，具体的启动器件可以看上个链接的函数表和启动表。这里面，中断和网络部分都是比较重要的，中断便于在流程中打断流程，并可方便记录内容，网络部分便于初始化LWIP或者精简的网络栈便于网口的支持，方便远程"调试"和"支援"，或者启动PXE功能来启动远程系统环境。这张图蛮好的 ![uboot启动图](https://res.cloudinary.com/dbzr1zvpf/image/upload/v1702737562/2023/12/2cbc675afbe0e3fd9439720018e6ef87.webp)

uboot是一个和板子深度结合的启动程序，在目前的
#### 准备路径）））
1. 说明思路： 假设我们不知道具体的方式的流程。没有密码
2. 有密码，能登陆。 了解固件的内容，分区。
3. 了解固件提取的方式，如果网上有资料，那就网上找相关接近的固件内容。
4. 准备backup，一般来说，我们在bootloader这个层级如果能够良好启动，默认芯片中提取的文件系统是有效的。
5. 

